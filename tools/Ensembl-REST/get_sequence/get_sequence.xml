<tool id="get_sequece_by_id_wrapper" name="get_sequece_by_id" version="0.1.1">
    <description>
        Retrieves sequence for ID from Ensembl server using REST API
    </description>
     
    <command>
        <![CDATA[
            python $__tool_directory__/get_sequence.py 
            --expand_3prime $expand_3prime
            --expand_5prime $expand_5prime
            -m $multiple_sequence
            -t $type_selector
                -i ${input}
            > $output
        ]]>
    </command>

    <inputs>
        <param name="input" type="data" format="txt" label="Ensembl ID"/>

        <param name="expand_3prime" type="integer" value="0" label="expand_3prime" help="Expand the sequence downstream of the sequence by this many basepairs. Only available when using genomic sequence type." />

        <param name="expand_5prime" type="integer" value="0" label="expand_5prime" help="Expand the sequence downstream of the sequence by this many basepairs. Only available when using genomic sequence type." />

        <param name="multiple_sequence" type="boolean" truevalue="1" falsevalue="0" label="Multiple Sequence" help="Allow the service to return more than 1 sequence per identifier. This is useful when querying for a gene but using a type such as protein." />

        <param name="type_selector" type="select" label="Type" help="Type of sequence. Defaults to genomic where applicable, i.e. not translations. cdna refers to the spliced transcript sequence with UTR; cds refers to the spliced transcript sequence without UTR.">
            <option value="genomic" selected="true">Genomic</option>
            <option value="cds">CDS</option>
            <option value="cdna">cdna</option>
            <option value="protein">Protein</option>
        </param>

    </inputs>

    <outputs>
        <data name="output" format="json" label="$(tool.name) on ${on_string}" />
    </outputs>

    <tests>
          <test>
                <param name="inputFile" ftype="text" value="input.txt" />
                <param name="expand_3prime" ftype="integer" value="0" />
                <param name="expand_5prime" ftype="integer" value="0" />
                <param name="multiple_sequence" ftype="boolean" value="0" />
                <param name="type_selector" ftype="select" value="genomic" />
                <output name="outputFile" file="gene.json" />
          </test>
     </tests>

    <help> <![CDATA[
        Simple wrapper for Ensembl REST API to retrieve sequence from Ensembl server. 

        Ensembl REST: ensembl_.

        .. _ensembl: http://rest.ensembl.org/documentation/info/sequence_id_post
    ]]>
    </help>
    <citations>
            
    </citations>
</tool>
